{"version":3,"file":"dropdown.component.js","sourceRoot":"","sources":["../../src/dropdown/dropdown.component.ts"],"names":[],"mappings":"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","sourcesContent":["/*\r\n * Angular 2 Dropdown Multiselect for Bootstrap\r\n *\r\n * Simon Lindh\r\n * https://github.com/softsimon/angular-2-dropdown-multiselect\r\n */\r\nimport { MultiSelectSearchFilter } from './search-filter.pipe';\r\nimport { IMultiSelectSettings, IMultiSelectTexts } from './types';\r\nimport {\r\n  Component,\r\n  DoCheck,\r\n  ElementRef,\r\n  EventEmitter,\r\n  forwardRef,\r\n  HostListener,\r\n  Input,\r\n  IterableDiffers,\r\n  OnChanges,\r\n  OnInit,\r\n  Output,\r\n  SimpleChanges\r\n} from '@angular/core';\r\nimport { AbstractControl, ControlValueAccessor, NG_VALUE_ACCESSOR, Validator } from '@angular/forms';\r\n\r\nconst MULTISELECT_VALUE_ACCESSOR: any = {\r\n  provide: NG_VALUE_ACCESSOR,\r\n  useExisting: forwardRef(() => MultiselectDropdown),\r\n  multi: true\r\n};\r\n\r\n\r\nexport class MultiselectDropdown implements OnInit, OnChanges, DoCheck, ControlValueAccessor, Validator {\r\n   options: Array<any>;\r\n   settings: IMultiSelectSettings;\r\n   texts: IMultiSelectTexts;\r\n   disabled: boolean = false;\r\n   selectionLimitReached = new EventEmitter();\r\n   dropdownClosed = new EventEmitter();\r\n   dropdownOpened = new EventEmitter();\r\n   onAdded = new EventEmitter();\r\n   onRemoved = new EventEmitter();\r\n\r\n  \r\n  onClick(target: HTMLElement) {\r\n    if (!this.isVisible) return;\r\n    let parentFound = false;\r\n    while (target != null && !parentFound) {\r\n      if (target === this.element.nativeElement) {\r\n        parentFound = true;\r\n      }\r\n      target = target.parentElement;\r\n    }\r\n    if (!parentFound) {\r\n      this.isVisible = false;\r\n      this.dropdownClosed.emit();\r\n    }\r\n  }\r\n\r\n  model: any[];\r\n  // parents: any[];\r\n  title: string;\r\n  differ: any;\r\n  numSelected: number = 0;\r\n  isVisible: boolean = false;\r\n  searchFilterText: string = '';\r\n\r\n  defaultSettings: IMultiSelectSettings = {\r\n    pullRight: false,\r\n    enableSearch: false,\r\n    checkedStyle: 'checkboxes',\r\n    buttonClasses: 'btn btn-default btn-secondary',\r\n    containerClasses: 'dropdown-inline',\r\n    selectionLimit: 0,\r\n    closeOnSelect: false,\r\n    autoUnselect: false,\r\n    showCheckAll: false,\r\n    showUncheckAll: false,\r\n    fixedTitle: false,\r\n    dynamicTitleMaxItems: 3,\r\n    maxHeight: '300px',\r\n    keyToSelect: '',\r\n    lableToDisplay: '',\r\n    isSimpleArray: false\r\n  };\r\n  defaultTexts: IMultiSelectTexts = {\r\n    checkAll: 'Check all',\r\n    uncheckAll: 'Uncheck all',\r\n    checked: 'checked',\r\n    checkedPlural: 'checked',\r\n    searchPlaceholder: 'Search...',\r\n    defaultTitle: 'Select',\r\n    allSelected: 'All selected',\r\n  };\r\n\r\n  constructor(private element: ElementRef,\r\n    differs: IterableDiffers) {\r\n    this.differ = differs.find([]).create(null);\r\n  }\r\n\r\n  getItemStyle(option: any): any {\r\n    if (!option.isLabel) {\r\n      return { 'cursor': 'pointer' };\r\n    }\r\n  }\r\n\r\n  getKeyValue(option: any) {\r\n    if (this.settings.isSimpleArray) {\r\n      return option;\r\n    } else {\r\n      return option[this.settings.keyToSelect];\r\n    }\r\n  }\r\n\r\n  getLabelValue(option: any) {\r\n    if (this.settings.isSimpleArray) {\r\n      return option;\r\n    } else {\r\n      return option[this.settings.lableToDisplay];\r\n    }\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.settings = Object.assign(this.defaultSettings, this.settings);\r\n    this.texts = Object.assign(this.defaultTexts, this.texts);\r\n    this.title = this.texts.defaultTitle || '';\r\n    if (this.settings.isSimpleArray && (this.settings.keyToSelect !== '' || this.settings.lableToDisplay !== '')) {\r\n      throw new Error('Do no pass keyToSelect or lableToDisplay if it is simple array');\r\n    } else if (!this.settings.isSimpleArray && (this.settings.keyToSelect === '' || this.settings.lableToDisplay === '')) {\r\n      throw new Error('Pass keyToSelect or lableToDisplay if it is not simple array');\r\n    }\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    if (changes['options']) {\r\n      this.options = this.options || [];\r\n    }\r\n\r\n    if (changes['texts'] && !changes['texts'].isFirstChange()) {\r\n      this.updateTitle();\r\n    }\r\n  }\r\n\r\n  onModelChange: Function = (_: any) => { };\r\n  onModelTouched: Function = () => { };\r\n\r\n  writeValue(value: any): void {\r\n    if (value !== undefined && value !== null) {\r\n      this.model = value;\r\n    } else {\r\n      this.model = [];\r\n    }\r\n  }\r\n\r\n  registerOnChange(fn: Function): void {\r\n    this.onModelChange = fn;\r\n  }\r\n\r\n  registerOnTouched(fn: Function): void {\r\n    this.onModelTouched = fn;\r\n  }\r\n\r\n  setDisabledState(isDisabled: boolean) {\r\n    this.disabled = isDisabled;\r\n  }\r\n\r\n  ngDoCheck() {\r\n    const changes = this.differ.diff(this.model);\r\n    if (changes) {\r\n      this.updateNumSelected();\r\n      this.updateTitle();\r\n    }\r\n  }\r\n\r\n  validate(_c: AbstractControl): { [key: string]: any; } {\r\n    return (this.model && this.model.length) ? null : {\r\n      required: {\r\n        valid: false,\r\n      },\r\n    };\r\n  }\r\n\r\n  registerOnValidatorChange(_fn: () => void): void {\r\n    throw new Error('Method not implemented.');\r\n  }\r\n\r\n  clearSearch(event: Event) {\r\n    event.stopPropagation();\r\n    this.searchFilterText = '';\r\n  }\r\n\r\n  toggleDropdown() {\r\n    this.isVisible = !this.isVisible;\r\n    this.isVisible ? this.dropdownOpened.emit() : this.dropdownClosed.emit();\r\n  }\r\n\r\n  isSelected(option: any): boolean {\r\n    return this.model && this.model.indexOf(this.getKeyValue(option)) > -1;\r\n  }\r\n\r\n  setSelected(_event: Event, option: any) {\r\n    _event.stopPropagation();\r\n    if (!this.model) {\r\n      this.model = [];\r\n    }\r\n    const index = this.model.indexOf(this.getKeyValue(option));\r\n    if (index > -1) {\r\n      this.model.splice(index, 1);\r\n      this.onRemoved.emit(this.getKeyValue(option));\r\n    } else {\r\n      if (this.settings.selectionLimit === 0 || (this.settings.selectionLimit && this.model.length < this.settings.selectionLimit)) {\r\n        this.model.push(this.getKeyValue(option));\r\n        this.onAdded.emit(this.getKeyValue(option));\r\n      } else {\r\n        if (this.settings.autoUnselect) {\r\n          this.model.push(this.getKeyValue(option));\r\n          this.onAdded.emit(this.getKeyValue(option));\r\n          const removedOption = this.model.shift();\r\n          this.onRemoved.emit(removedOption);\r\n        } else {\r\n          this.selectionLimitReached.emit(this.model.length);\r\n          return;\r\n        }\r\n      }\r\n    }\r\n    if (this.settings.closeOnSelect) {\r\n      this.toggleDropdown();\r\n    }\r\n    this.model = this.model.slice();\r\n    this.onModelChange(this.model);\r\n    this.onModelTouched();\r\n  }\r\n\r\n  updateNumSelected() {\r\n    this.numSelected = this.model && this.model.length || 0;\r\n  }\r\n\r\n  updateTitle() {\r\n    if (this.numSelected === 0 || this.settings.fixedTitle) {\r\n      this.title = this.texts.defaultTitle || '';\r\n    } else if (this.settings.displayAllSelectedText && this.model.length === this.options.length) {\r\n      this.title = this.texts.allSelected || '';\r\n    } else if (this.settings.dynamicTitleMaxItems && this.settings.dynamicTitleMaxItems >= this.numSelected) {\r\n      this.title = this.options\r\n        .filter((option: any) =>\r\n          this.model && this.model.indexOf(this.getKeyValue(option)) > -1\r\n        )\r\n        .map((option: any) => this.getLabelValue(option))\r\n        .join(', ');\r\n    } else {\r\n      this.title = this.numSelected\r\n        + ' '\r\n        + (this.numSelected === 1 ? this.texts.checked : this.texts.checkedPlural);\r\n    }\r\n  }\r\n\r\n  searchFilterApplied() {\r\n    return this.settings.enableSearch && this.searchFilterText && this.searchFilterText.length > 0;\r\n  }\r\n\r\n  checkAll() {\r\n    this.model = [];\r\n    //TODO: select only filtered options if searchFilterApplied\r\n    let checkedOptions = (!this.searchFilterApplied() ? this.options : this.options);\r\n    for (let option of this.options) {\r\n      this.model.push(this.getKeyValue(option));\r\n    }\r\n    this.onModelChange(this.model);\r\n    this.onModelTouched();\r\n  }\r\n\r\n  uncheckAll() {\r\n    this.model = [];\r\n    this.onModelChange(this.model);\r\n    this.onModelTouched();\r\n  }\r\n\r\n  preventCheckboxCheck(event: Event, option: any) {\r\n    if (this.settings.selectionLimit && !this.settings.autoUnselect &&\r\n      this.model.length >= this.settings.selectionLimit &&\r\n      this.model.indexOf(this.getKeyValue(option)) === -1\r\n    ) {\r\n      event.preventDefault();\r\n    }\r\n  }\r\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\r\n  selector: 'ng2-multiselect',\r\n  template: `<div class=\"dropdown\" [ngClass]=\"settings.containerClasses\" [class.open]=\"isVisible\" >\r\n  <button type=\"button\" class=\"dropdown-toggle\" [ngClass]=\"settings.buttonClasses\" (click)=\"toggleDropdown()\" [disabled]=\"disabled\">{{ title }}<span class=\"caret\"></span></button>\r\n  <ul *ngIf=\"isVisible\" class=\"dropdown-menu\" [class.pull-right]=\"settings.pullRight\" [class.dropdown-menu-right]=\"settings.pullRight\"\r\n    [style.max-height]=\"settings.maxHeight\" style=\"display: block; height: auto; overflow-y: auto;width:100% !important;\">\r\n    <li class=\"dropdown-item search\" *ngIf=\"settings.enableSearch\">\r\n      <div class=\"input-group input-group-sm\">\r\n        <span class=\"input-group-addon\" id=\"sizing-addon3\"><i class=\"fa fa-search\"></i></span>\r\n        <input type=\"text\" class=\"form-control\" placeholder=\"{{ texts.searchPlaceholder }}\" aria-describedby=\"sizing-addon3\" [(ngModel)]=\"searchFilterText\"\r\n          [ngModelOptions]=\"{standalone: true}\" autofocus>\r\n        <span class=\"input-group-btn\" *ngIf=\"searchFilterText.length > 0\">\r\n          <button class=\"btn btn-default btn-secondary\" type=\"button\" (click)=\"clearSearch($event)\"><i class=\"fa fa-times\"></i></button>\r\n        </span>\r\n      </div>\r\n    </li>\r\n    <li class=\"dropdown-divider divider\" *ngIf=\"settings.enableSearch\"></li>\r\n    <li class=\"dropdown-item check-control check-control-check\" *ngIf=\"settings.showCheckAll\">\r\n      <a href=\"javascript:;\" role=\"menuitem\" tabindex=\"-1\" (click)=\"checkAll()\">\r\n        <span style=\"width: 16px;\" [ngClass]=\"{'glyphicon glyphicon-ok': settings.checkedStyle !== 'fontawesome','fa fa-check': settings.checkedStyle === 'fontawesome'}\"></span>        {{ texts.checkAll }}\r\n      </a>\r\n    </li>\r\n    <li class=\"dropdown-item check-control check-control-uncheck\" *ngIf=\"settings.showUncheckAll\">\r\n      <a href=\"javascript:;\" role=\"menuitem\" tabindex=\"-1\" (click)=\"uncheckAll()\">\r\n        <span style=\"width: 16px;\" [ngClass]=\"{'glyphicon glyphicon-remove': settings.checkedStyle !== 'fontawesome','fa fa-times': settings.checkedStyle === 'fontawesome'}\"></span>        {{ texts.uncheckAll }}\r\n      </a>\r\n    </li>\r\n    <li *ngIf=\"settings.showCheckAll || settings.showUncheckAll\" class=\"dropdown-divider divider\"></li>\r\n    <li class=\"dropdown-item\" [ngStyle]=\"getItemStyle(option)\" *ngFor=\"let option of options\"\r\n      (click)=\"setSelected($event, option)\">\r\n      <a href=\"javascript:;\" role=\"menuitem\" tabindex=\"-1\">\r\n        <input *ngIf=\"settings.checkedStyle === 'checkboxes'\" type=\"checkbox\" [checked]=\"isSelected(option)\" (click)=\"preventCheckboxCheck($event, option)\"\r\n        />\r\n        <span *ngIf=\"settings.checkedStyle === 'glyphicon'\" style=\"width: 16px;\" class=\"glyphicon\" [class.glyphicon-ok]=\"isSelected(option)\"></span>\r\n        <span *ngIf=\"settings.checkedStyle === 'fontawesome'\" style=\"width: 16px;display: inline-block;\">\r\n          <i *ngIf=\"isSelected(option)\" class=\"fa fa-check\" aria-hidden=\"true\"></i>\r\n        </span>\r\n        <span [ngClass]=\"settings.itemClasses\">\r\n          {{ getLabelValue(option) }}\r\n        </span>\r\n      </a>\r\n    </li>\r\n  </ul>\r\n</div>`,\r\n  styles: [`a {\r\n  outline: none !important;\r\n}\r\n\r\n.dropdown-toggle .caret {\r\n  margin-left: 4px;\r\n  white-space: nowrap;\r\n  display: inline-block;\r\n}\r\n`],\r\n  providers: [MULTISELECT_VALUE_ACCESSOR]\r\n}, ] },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: ElementRef, },\n{type: IterableDiffers, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'options': [{ type: Input },],\n'settings': [{ type: Input },],\n'texts': [{ type: Input },],\n'disabled': [{ type: Input },],\n'selectionLimitReached': [{ type: Output },],\n'dropdownClosed': [{ type: Output },],\n'dropdownOpened': [{ type: Output },],\n'onAdded': [{ type: Output },],\n'onRemoved': [{ type: Output },],\n'onClick': [{ type: HostListener, args: ['document: click', ['$event.target'], ] },],\n};\n}\r\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}